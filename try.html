<!doctype html>
<html>
	<head>
		<script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>
		<script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
		<link rel='stylesheet' type='text/css' href='/resources/tutorial/css/example.css'>
	</head>

	<body>
		<input type='text' id='title' placeholder='Add title'>
		<input type='text' id='note' placeholder='Add note'>
		<input type='button' id ='doneButton' onClick='add(true)' value='Done'>
		<input type='button' id ='notDoneButton' onClick='add(false)' value='Not Done'>
		<input type='button' id ='clear' onClick='clearPad()' value='clear'>

		<br>
	    Done:
	    <div id='doneDiv'></div>
	    <hr>
	    Not Done: 
	 	<div id='notDoneDiv'></div>

	    <script>
			var myDataRef = new Firebase('https://ju4u40r2xpf.firebaseio-demo.com/');

			myDataRef.on('child_added', function(snap) {
				var entry = snap.val();
				displayTasks(entry.title, entry.note, entry.done);
			});
		  
			function displayTasks(title, note, done) {
				var div = document.createElement("div");
				div.innerHTML = title + ": " + note;

				if(done) $('<div/>').text(title + ": " + note).appendTo($('#doneDiv'));
				else $('<div/>').text(title + ": " + note).appendTo($('#notDoneDiv'));
			};

			function clearPad(){
				myDataRef.remove();
				$('#doneDiv').empty();
				$('#notDoneDiv').empty();
			};

		    function add(done){
			    var note = $('#note').val();
			    var title = $('#title').val();
			    
			    $('#note').val("");
			    $('#title').val("");
				if(done) myDataRef.push({title: title, note: note, done: true});
				else myDataRef.push({title: title, note: note, done: false});
		    };
	 	</script>

		</body>
</html>


     